{"ast":null,"code":"import { defaultDB } from \".\";\nexport default (async () => ({\n  db: await defaultDB(),\n\n  async existTable() {\n    //EMPRESAS\n    await this.db.run(`CREATE TABLE IF NOT EXISTS  Empresa (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            nombre TEXT,\n            telefono TEXT,\n            direccion TEXT\n        )`); //USUARIOS\n\n    await this.db.run(`CREATE TABLE IF NOT EXISTS  Usuarios (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            nombre TEXT,\n            apPaterno TEXT,\n            apMaterno TEXT,    \n            puesto int        \n        )`); //LOGIN\n\n    await this.db.run(`CREATE TABLE IF NOT EXISTS loginUser (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            idUsuario int,\n            password TEXT\n        )`); //REGISTRO\n\n    await this.db.run(`CREATE TABLE IF NOT EXISTS registroLogin (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            idUsuario int,\n            fecha date,\n            hora datetime\n        )`);\n    this.db.close();\n  },\n\n  async newEmpresa(nombre, telefono, direccion) {\n    this.existTable();\n    const res = await this.db.run('INSERT INTO Empresa (nombre, telefono, direccion) values(?,?,?)', [nombre, telefono, direccion]);\n    this.db.close();\n    console.log('listo', res);\n    return res;\n  },\n\n  async newUsuario(nombre, apPaterno, apMaterno, puesto) {\n    this.existTable();\n    const res = await this.db.run('INSERT INTO Usuarios (nombre, apPaterno, apMaterno, apMaterno, puesto) values(?,?,?,?)', [nombre, apMaterno, apPaterno, puesto]);\n    this.db.close();\n    console.log('listo', res);\n    return res;\n  },\n\n  async loginUser(idUsuario, password) {\n    const res = await this.db.run('INSERT INTO loginUser(idUsuario,password) VALUES(?,?)', [idUsuario, password]);\n    this.db.close();\n    console.log('ID', res.lastID);\n    return res;\n  }\n\n}));","map":{"version":3,"sources":["/home/gael/development/web/backend/nextJS/api-tienda-web/database/insert.ts"],"names":["defaultDB","db","existTable","run","close","newEmpresa","nombre","telefono","direccion","res","console","log","newUsuario","apPaterno","apMaterno","puesto","loginUser","idUsuario","password","lastID"],"mappings":"AAAA,SAASA,SAAT,QAA0B,GAA1B;AAEA,gBAAe,aAAa;AACxBC,EAAAA,EAAE,EAAE,MAAMD,SAAS,EADK;;AAExB,QAAME,UAAN,GAAkB;AACd;AACA,UAAM,KAAKD,EAAL,CAAQE,GAAR,CAAa;;;;;UAAb,CAAN,CAFc,CAQd;;AACA,UAAM,KAAKF,EAAL,CAAQE,GAAR,CAAa;;;;;;UAAb,CAAN,CATc,CAgBd;;AACA,UAAM,KAAKF,EAAL,CAAQE,GAAR,CAAa;;;;UAAb,CAAN,CAjBc,CAsBd;;AACA,UAAM,KAAKF,EAAL,CAAQE,GAAR,CAAa;;;;;UAAb,CAAN;AAOA,SAAKF,EAAL,CAAQG,KAAR;AACH,GAjCuB;;AAkCxB,QAAMC,UAAN,CACIC,MADJ,EAEIC,QAFJ,EAGIC,SAHJ,EAIC;AACG,SAAKN,UAAL;AACA,UAAMO,GAAG,GAAG,MAAM,KAAKR,EAAL,CAAQE,GAAR,CAAY,iEAAZ,EAA8E,CAACG,MAAD,EAASC,QAAT,EAAmBC,SAAnB,CAA9E,CAAlB;AACA,SAAKP,EAAL,CAAQG,KAAR;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBF,GAApB;AACA,WAAOA,GAAP;AACH,GA5CuB;;AA6CxB,QAAMG,UAAN,CACIN,MADJ,EAEIO,SAFJ,EAGIC,SAHJ,EAIIC,MAJJ,EAKC;AACG,SAAKb,UAAL;AACA,UAAMO,GAAG,GAAG,MAAM,KAAKR,EAAL,CAAQE,GAAR,CAAY,wFAAZ,EACd,CAACG,MAAD,EAAQQ,SAAR,EAAkBD,SAAlB,EAA4BE,MAA5B,CADc,CAAlB;AAEA,SAAKd,EAAL,CAAQG,KAAR;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBF,GAApB;AACA,WAAOA,GAAP;AACH,GAzDuB;;AA0DxB,QAAMO,SAAN,CACIC,SADJ,EAEIC,QAFJ,EAIC;AACG,UAAMT,GAAG,GAAG,MAAM,KAAKR,EAAL,CAAQE,GAAR,CAAY,uDAAZ,EAAoE,CAACc,SAAD,EAAWC,QAAX,CAApE,CAAlB;AACA,SAAKjB,EAAL,CAAQG,KAAR;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAiBF,GAAG,CAACU,MAArB;AACA,WAAOV,GAAP;AAEH;;AApEuB,CAAb,CAAf","sourcesContent":["import { defaultDB } from \".\";\n\nexport default async () => ({\n    db: await defaultDB(),\n    async existTable(){\n        //EMPRESAS\n        await this.db.run(`CREATE TABLE IF NOT EXISTS  Empresa (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            nombre TEXT,\n            telefono TEXT,\n            direccion TEXT\n        )`);\n        //USUARIOS\n        await this.db.run(`CREATE TABLE IF NOT EXISTS  Usuarios (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            nombre TEXT,\n            apPaterno TEXT,\n            apMaterno TEXT,    \n            puesto int        \n        )`);\n        //LOGIN\n        await this.db.run(`CREATE TABLE IF NOT EXISTS loginUser (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            idUsuario int,\n            password TEXT\n        )`);\n        //REGISTRO\n        await this.db.run(`CREATE TABLE IF NOT EXISTS registroLogin (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            idUsuario int,\n            fecha date,\n            hora datetime\n        )`);\n\n        this.db.close();\n    },\n    async newEmpresa(\n        nombre      : String,\n        telefono    : String,\n        direccion   : String\n    ){\n        this.existTable();\n        const res = await this.db.run('INSERT INTO Empresa (nombre, telefono, direccion) values(?,?,?)',[nombre, telefono, direccion]);\n        this.db.close();\n        console.log('listo',res);\n        return res;\n    },\n    async newUsuario(\n        nombre:String,\n        apPaterno: String,\n        apMaterno: String,\n        puesto:number\n    ){\n        this.existTable();\n        const res = await this.db.run('INSERT INTO Usuarios (nombre, apPaterno, apMaterno, apMaterno, puesto) values(?,?,?,?)',\n            [nombre,apMaterno,apPaterno,puesto]);\n        this.db.close();\n        console.log('listo',res);\n        return res;\n    },\n    async loginUser(\n        idUsuario:number,\n        password:string,\n\n    ){\n        const res = await this.db.run('INSERT INTO loginUser(idUsuario,password) VALUES(?,?)',[idUsuario,password]);\n        this.db.close();\n        console.log('ID',res.lastID);\n        return res;\n\n    }\n});\n\n"]},"metadata":{},"sourceType":"module"}