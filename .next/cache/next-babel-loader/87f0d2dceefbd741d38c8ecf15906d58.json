{"ast":null,"code":"export default (async () => ({\n  //empresa\n  async allEmpresar() {\n    try {\n      const empresas = (await defaultDB.all('SELECT * FROM Empresa').catch(() => [])) || [];\n      console.log(\"Empresas =>\", JSON.stringify(empresas, null, 2));\n      defaultDB.close();\n      return {\n        error: false,\n        data: empresas\n      };\n    } catch (e) {\n      return {\n        error: true,\n        message: e.toString()\n      };\n    }\n  },\n\n  async idEmpresa(id) {\n    const empresa = await defaultDB.get('SELECT * FROM Empresa where id=?', [id]);\n    defaultDB.close();\n    return empresa || null;\n  },\n\n  //usuario\n  async allUsuario() {\n    try {\n      const usuarios = (await defaultDB.all('SELECT * FROM Usuarios').catch(() => [])) || [];\n      console.log(`usuarios => `, JSON.stringify(usuarios, null, 2));\n      defaultDB.close();\n      return {\n        error: false,\n        data: usuarios\n      };\n    } catch (e) {\n      return {\n        error: true,\n        message: e.toString()\n      };\n    }\n  },\n\n  async idUsuario(id) {\n    try {\n      const usuario = (await defaultDB.run('SELECT * FROM Usuarios where id=?', [id]).catch(() => [])) || [];\n      console.log(`usuarios => `, JSON.stringify(usuario, null, 2));\n      defaultDB.close();\n      return {\n        error: false,\n        data: usuario\n      };\n    } catch (e) {\n      return {\n        error: true,\n        message: e.toString()\n      };\n    }\n  }\n\n}));","map":{"version":3,"sources":["/home/gael/development/web/backend/nextJS/api-tienda-web/database/select.ts"],"names":["allEmpresar","empresas","defaultDB","all","catch","console","log","JSON","stringify","close","error","data","e","message","toString","idEmpresa","id","empresa","get","allUsuario","usuarios","idUsuario","usuario","run"],"mappings":"AAEA,gBAAe,aAAW;AACtB;AACA,QAAMA,WAAN,GAAmB;AACf,QAAG;AACC,YAAMC,QAAQ,GAAG,OAAMC,SAAS,CAACC,GAAV,CAAc,uBAAd,EAClBC,KADkB,CACZ,MAAI,EADQ,CAAN,KACK,EADtB;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BC,IAAI,CAACC,SAAL,CAAeP,QAAf,EAAwB,IAAxB,EAA6B,CAA7B,CAA3B;AACAC,MAAAA,SAAS,CAACO,KAAV;AACA,aAAO;AAACC,QAAAA,KAAK,EAAC,KAAP;AAAaC,QAAAA,IAAI,EAACV;AAAlB,OAAP;AACH,KAND,CAMC,OAAMW,CAAN,EAAQ;AACL,aAAO;AAACF,QAAAA,KAAK,EAAC,IAAP;AAAYG,QAAAA,OAAO,EAACD,CAAC,CAACE,QAAF;AAApB,OAAP;AACH;AACJ,GAZqB;;AAatB,QAAMC,SAAN,CAAgBC,EAAhB,EAA0B;AACtB,UAAMC,OAAO,GAAI,MAAMf,SAAS,CAACgB,GAAV,CAAc,kCAAd,EAAiD,CAACF,EAAD,CAAjD,CAAvB;AACAd,IAAAA,SAAS,CAACO,KAAV;AACA,WAAOQ,OAAO,IAAI,IAAlB;AACH,GAjBqB;;AAkBtB;AACA,QAAME,UAAN,GAAkB;AACd,QAAG;AACC,YAAMC,QAAQ,GAAG,OAAMlB,SAAS,CAACC,GAAV,CAAc,wBAAd,EAClBC,KADkB,CACZ,MAAI,EADQ,CAAN,KACK,EADtB;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAa,cAAb,EAA4BC,IAAI,CAACC,SAAL,CAAeY,QAAf,EAAwB,IAAxB,EAA6B,CAA7B,CAA5B;AACAlB,MAAAA,SAAS,CAACO,KAAV;AACA,aAAO;AAACC,QAAAA,KAAK,EAAC,KAAP;AAAaC,QAAAA,IAAI,EAACS;AAAlB,OAAP;AAEH,KAPD,CAOC,OAAMR,CAAN,EAAQ;AACL,aAAO;AAACF,QAAAA,KAAK,EAAC,IAAP;AAAYG,QAAAA,OAAO,EAACD,CAAC,CAACE,QAAF;AAApB,OAAP;AACH;AACJ,GA9BqB;;AA+BtB,QAAMO,SAAN,CAAgBL,EAAhB,EAA0B;AACtB,QAAG;AACC,YAAMM,OAAO,GAAG,OAAMpB,SAAS,CAACqB,GAAV,CAAc,mCAAd,EAAkD,CAACP,EAAD,CAAlD,EACjBZ,KADiB,CACX,MAAI,EADO,CAAN,KACM,EADtB;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAa,cAAb,EAA4BC,IAAI,CAACC,SAAL,CAAec,OAAf,EAAuB,IAAvB,EAA4B,CAA5B,CAA5B;AACApB,MAAAA,SAAS,CAACO,KAAV;AACA,aAAO;AAACC,QAAAA,KAAK,EAAC,KAAP;AAAaC,QAAAA,IAAI,EAACW;AAAlB,OAAP;AAEH,KAPD,CAOC,OAAMV,CAAN,EAAQ;AACL,aAAO;AAACF,QAAAA,KAAK,EAAC,IAAP;AAAYG,QAAAA,OAAO,EAACD,CAAC,CAACE,QAAF;AAApB,OAAP;AACH;AACJ;;AA1CqB,CAAX,CAAf","sourcesContent":["import { defaultDB as db } from \".\";\n\nexport default async ()=>({\n    //empresa\n    async allEmpresar(){\n        try{\n            const empresas = await defaultDB.all('SELECT * FROM Empresa')\n                .catch(()=>[]) || [];\n            console.log(\"Empresas =>\", JSON.stringify(empresas,null,2));\n            defaultDB.close();\n            return {error:false,data:empresas};\n        }catch(e){\n            return {error:true,message:e.toString()};\n        }\n    },\n    async idEmpresa(id:number){\n        const empresa =  await defaultDB.get('SELECT * FROM Empresa where id=?',[id]);\n        defaultDB.close();\n        return empresa || null;\n    },\n    //usuario\n    async allUsuario(){\n        try{\n            const usuarios = await defaultDB.all('SELECT * FROM Usuarios')\n                .catch(()=>[]) || [];\n            console.log(`usuarios => `, JSON.stringify(usuarios,null,2));\n            defaultDB.close();\n            return {error:false,data:usuarios};\n\n        }catch(e){\n            return {error:true,message:e.toString()};\n        }\n    },\n    async idUsuario(id:number){\n        try{\n            const usuario = await defaultDB.run('SELECT * FROM Usuarios where id=?',[id])\n                .catch(()=>[]) || [];\n            console.log(`usuarios => `, JSON.stringify(usuario,null,2));\n            defaultDB.close();\n            return {error:false,data:usuario};\n\n        }catch(e){\n            return {error:true,message:e.toString()};\n        }\n    }\n\n});\n"]},"metadata":{},"sourceType":"module"}